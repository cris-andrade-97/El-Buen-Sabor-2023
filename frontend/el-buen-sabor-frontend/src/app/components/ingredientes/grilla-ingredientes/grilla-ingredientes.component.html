<div class="container">
    <ngx-spinner type="ball-scale-multiple">
        <h1>Cargando...</h1>
    </ngx-spinner>
    <br>
    <div class="d-flex justify-content-center">
        <div class="col-sm-auto">
            <h1>Ingredientes</h1>
        </div>
    </div>
    <br>
    <div class="d-flex justify-content-between">
        <div>
            <a href="/formulario-ingredientes/nuevoIngrediente">
                <button type="button" class="btn btn-outline-primary">Agregar Nuevo Ingrediente</button>
            </a>
        </div>
        <div class="col-sm-4">
            <input type="text" class="form-control" aria-describedby="Buscardor" placeholder="Buscar Ingrediente...">
        </div>
    </div>
    <table class="table table-striped table-light">
        <thead>
            <tr>
                <th scope="col" style="width:14%">Nombre</th>
                <th scope="col" style="width:12%">Stock MÃ­nimo</th>
                <th scope="col" style="width:11%">Cantidad Actual</th>
                <th scope="col" style="width:10%">Unidad de Medida</th>
                <th scope="col" style="width:12%">Rubro</th>
                <th scope="col" style="width:10%">Vigencia</th>
                <th scope="col" style="width:18%">Modificar</th>
                <th scope="col" style="width:13%">Dar de Alta/Baja</th>
            </tr>
        </thead>

        <!--
            {
            "id": 0,
            "nombre": "Harina de Trigo 0000",
            "stockMinimoInsumo": 100000,
            "unidadMedida": "gr",
            "cantidadActual": 150000,
            "rubroIngrediente": "Harinas",
            "estado": true
            }
    -->

        <tbody>
            <tr *ngFor="let ingrediente of ingredientes">
                <td>
                    {{ingrediente.nombre}}
                </td>
                <td *ngIf="ingrediente.unidadMedida=='gr'||ingrediente.unidadMedida=='ml'">
                    {{ingrediente.stockMinimoInsumo/1000}}
                </td>
                <td *ngIf="ingrediente.unidadMedida!='gr'&&ingrediente.unidadMedida!='ml'">
                    {{ingrediente.stockMinimoInsumo}}
                </td>
                <td *ngIf="ingrediente.unidadMedida=='gr'||ingrediente.unidadMedida=='ml'">
                    {{ingrediente.cantidadActual/1000}}
                </td>
                <td *ngIf="ingrediente.unidadMedida!='gr'&&ingrediente.unidadMedida!='ml'">
                    {{ingrediente.cantidadActual}}
                </td>
                <td *ngIf="ingrediente.unidadMedida=='gr'">
                    kg
                </td>
                <td *ngIf="ingrediente.unidadMedida=='ml'">
                    L
                </td>
                <td *ngIf="ingrediente.unidadMedida!='ml'&& ingrediente.unidadMedida!='gr'">
                    {{ingrediente.unidadMedida}}
                </td>
                <td>
                    {{ingrediente.rubroIngrediente}}
                </td>
                <td *ngIf="ingrediente.estado">
                    <p>&#9989;</p>
                </td>
                <td *ngIf="!ingrediente.estado">
                    <p>&#10060;</p>
                </td>
                <td>
                    <a class="btn btn-outline-warning" [routerLink]="['/formulario-ingredientes',ingrediente.id]">
                        Modificar Ingrediente
                    </a>
                </td>
                <td>
                    <button *ngIf="!ingrediente.estado" class="btn btn-outline-success"
                        (click)="actualizarVigencia(ingrediente.id, true)">
                        Dar de Alta
                    </button>
                    <button *ngIf="ingrediente.estado" class="btn btn-outline-danger"
                        (click)="actualizarVigencia(ingrediente.id, false)">
                        Dar de Baja
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>