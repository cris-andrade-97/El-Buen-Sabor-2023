<div class="container">
    <ngx-spinner type="ball-scale-multiple">
        <h1>Cargando...</h1>
    </ngx-spinner>
    <br>
    <div class="d-flex justify-content-center">
        <div class="col-sm-auto">
            <h1>Rubros de Productos</h1>
        </div>
    </div>
    <br>
    <div class="d-flex justify-content-between">
        <div>
            <a href="/formulario-rubro-productos/nuevoRubro">
                <button type="button" class="btn btn-outline-primary">Agregar nuevo rubro</button>
            </a>
        </div>
        <div class="col-sm-4">
            <input type="text" [(ngModel)]="busqueda" (ngModelChange)="buscar()" class="form-control"
                aria-describedby="Buscardor" placeholder="Buscar Rubro...">
        </div>
    </div>
    <br>
    <table class="table table-striped table-light" *ngIf="busqueda == ''">
        <thead>
            <tr>
                <th scope="col" style="width:40%">Nombre Rubro</th>
                <th scope="col" style="width:20%">Vigencia</th>
                <th scope="col" style="width:20%">Modificar</th>
                <th scope="col" style="width:20%">Dar de Alta/Baja</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let rubro of rubrosProductos">
                <td>
                    {{rubro.nombre}}
                </td>
                <td *ngIf="rubro.estado">
                    <p>&#9989;</p>
                </td>
                <td *ngIf="!rubro.estado">
                    <p>&#10060;</p>
                </td>
                <td>
                    <a class="btn btn-outline-warning" [routerLink]="['/formulario-rubro-productos',rubro.id]">
                        Modificar Rubro
                    </a>
                </td>
                <td>
                    <button *ngIf="!rubro.estado" class="btn btn-outline-success"
                        (click)="actualizarVigencia(rubro.id,true)">
                        Dar de Alta
                    </button>
                    <button *ngIf="rubro.estado" class="btn btn-outline-danger"
                        (click)="actualizarVigencia(rubro.id, false)">
                        Dar de Baja
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-striped table-light" *ngIf="busqueda!=''">
        <thead>
            <tr>
                <th scope="col" style="width:40%">Nombre Rubro</th>
                <th scope="col" style="width:20%">Vigencia</th>
                <th scope="col" style="width:20%">Modificar</th>
                <th scope="col" style="width:20%">Dar de Alta/Baja</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let rubro of busquedaRubro">
                <td>
                    {{rubro.nombre}}
                </td>
                <td *ngIf="rubro.estado">
                    <p>&#9989;</p>
                </td>
                <td *ngIf="!rubro.estado">
                    <p>&#10060;</p>
                </td>
                <td>
                    <a class="btn btn-outline-warning" [routerLink]="['/formulario-rubro-productos',rubro.id]">
                        Modificar Rubro
                    </a>
                </td>
                <td>
                    <button *ngIf="!rubro.estado" class="btn btn-outline-success"
                        (click)="actualizarVigencia(rubro.id,true)">
                        Dar de Alta
                    </button>
                    <button *ngIf="rubro.estado" class="btn btn-outline-danger"
                        (click)="actualizarVigencia(rubro.id, false)">
                        Dar de Baja
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
    <label *ngIf="busquedaRubro.length == 0">
        No se encontraron resultados.
    </label>
</div>